<app-spinner [loading]="shouldDisplaySpinner()"></app-spinner>
<div class="container">
  <h1 class="cart-header">{{"cart" | translate}}</h1>
  <mat-grid-list class="mat-list" cols="1" rowHeight="350px">
    <mat-grid-tile class="mat-tiles" *ngFor="let orderedProduct of orderedProducts;">
      <mat-card class="orderedProduct-card">
        <mat-card-content class="orderedProduct-card-content">
          <img
            mat-card-xl-image
            [src]="orderedProduct.product.imageUrl"
            alt="image"
            (click)="redirectToSingleProductPage(orderedProduct.product.id.toString())">
          <div class="orderedProduct-info-div">
            <mat-card-title class="product-group-name" (click)="redirectToSingleProductPage(orderedProduct.product.id.toString())">
              {{ orderedProduct.product.productGroup.name }}
            </mat-card-title>
            <mat-card-subtitle>
              {{ "product.color" | translate }}: {{ getProductColor(orderedProduct.product.color.toString()) | translate }}
            </mat-card-subtitle>
            <mat-card-subtitle>
              {{ "product.dimensions" | translate }}: {{ orderedProduct.product.furnitureDimensions.width }}m x
              {{ orderedProduct.product.furnitureDimensions.depth }}m x
              {{ orderedProduct.product.furnitureDimensions.height }}m
            </mat-card-subtitle>
            <mat-card-subtitle>
              {{ "product.package.dimensions" | translate }}: {{ orderedProduct.product.packageDimensions.width }}m x
              {{ orderedProduct.product.packageDimensions.depth }}m x
              {{ orderedProduct.product.packageDimensions.height }}m
            </mat-card-subtitle>
            <mat-card-subtitle>
              <strong>{{ "product.price" | translate }}: {{ orderedProduct.product.price }}</strong>
            </mat-card-subtitle>
            <mat-card-subtitle>
              {{ "product.available.number.of.pieces" | translate }}: {{ orderedProduct.product.amount }}
            </mat-card-subtitle>
            <mat-card-subtitle>
              {{ "product.chosen.number.of.pieces" | translate }}:
            </mat-card-subtitle>
            <div class="input-group w-50">
              <div class="input-group-prepend">
                <button class="btn btn-outline-secondary" (click)="decreaseAmount(orderedProduct)">-</button>
              </div>
              <input
                name="amountInput"
                required
                type="number"
                class="form-control text-center"
                [(ngModel)]="orderedProduct.amount"
                min="1"
                [max]="orderedProduct.product.amount"
                (change)="validateChangedAmount(orderedProduct)"/>
              <div class="input-group-append">
                <button class="btn btn-outline-secondary" (click)="increaseAmount(orderedProduct)">+</button>
              </div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
